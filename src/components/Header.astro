<header class="m-0 p-0 px-4 shadow-xl">
  <div class="flex items-center justify-between p-5">
    <nav class="flex-1 flex justify-center gap-3">
      <a class="px-2 py-2 border-b-4 border-transparent transition-colors transition-border duration-300 ease-in-out" href="/">Home</a>
      <a class="px-2 py-2 border-b-4 border-transparent transition-colors transition-border duration-300 ease-in-out" href="/projects">Projects</a>
      <a class="px-2 py-2 border-b-4 border-transparent transition-colors transition-border duration-300 ease-in-out" href="/education">Education</a>
      <a class="px-2 py-2 border-b-4 border-transparent transition-colors transition-border duration-300 ease-in-out" href="/contact">Contact</a>
    </nav>

    <div>
      <button class="button rounded-md" id="theme-toggle">
        <span class="icon-[line-md--light-dark-loop] text-4xl"></span>
      </button>
    </div>
  </div>
</header>

<script> 
 document.addEventListener("DOMContentLoaded", () => {
    const html = document.documentElement;
    const savedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
      html.classList.add('dark');
    }

    const links = document.querySelectorAll("nav a");
    const currentPath = window.location.pathname;

    links.forEach((link) => {
      const href = link.getAttribute("href");
      if (href === currentPath) {
        link.classList.add("nav-active");
        link.setAttribute("aria-current", "page");
      } else {
        link.classList.remove("nav-active");
        link.removeAttribute("aria-current");
      }
    });

    const toggleBtn = document.getElementById('theme-toggle');
    if (toggleBtn) {
      toggleBtn.addEventListener('click', () => {
        if (html.classList.contains('dark')) {
          html.classList.remove('dark');
          localStorage.setItem('theme', 'light');
        } else {
          html.classList.add('dark');
          localStorage.setItem('theme', 'dark');
        }
      });
    }
  });
</script>
